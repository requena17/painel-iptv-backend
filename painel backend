# Criando o backend Laravel para o painel IPTV

## 1Ô∏è‚É£ Instalar Laravel (Localmente ou na VPS)
```sh
composer create-project --prefer-dist laravel/laravel painel-iptv-backend
cd painel-iptv-backend
```

## 2Ô∏è‚É£ Configurar o banco de dados
```sh
cp .env.example .env
nano .env
```
Edite as credenciais do banco:
```env
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=painel_iptv
DB_USERNAME=root
DB_PASSWORD=senha_segura
```
Salve (`CTRL+X`, `Y`, `Enter`).

## 3Ô∏è‚É£ Criar Models e Migrations
```sh
php artisan make:model User -m
php artisan make:model Servidor -m
php artisan make:model Cliente -m
php artisan make:model Pacote -m
php artisan make:model Assinatura -m
php artisan make:model Transacao -m
php artisan make:model Log -m
```

## 4Ô∏è‚É£ Criar as migrations
Edite os arquivos dentro de `database/migrations/` para definir as tabelas.

Rodar as migrations:
```sh
php artisan migrate
```

## 5Ô∏è‚É£ Criar Controllers
```sh
php artisan make:controller UserController --api
php artisan make:controller ServidorController --api
php artisan make:controller ClienteController --api
php artisan make:controller PacoteController --api
php artisan make:controller AssinaturaController --api
php artisan make:controller TransacaoController --api
php artisan make:controller LogController --api
```

## 6Ô∏è‚É£ Definir Rotas no `routes/api.php`
```php
use App\Http\Controllers\UserController;
use App\Http\Controllers\ServidorController;
use App\Http\Controllers\ClienteController;
use App\Http\Controllers\PacoteController;
use App\Http\Controllers\AssinaturaController;
use App\Http\Controllers\TransacaoController;
use App\Http\Controllers\LogController;

Route::apiResource('/users', UserController::class);
Route::apiResource('/servidores', ServidorController::class);
Route::apiResource('/clientes', ClienteController::class);
Route::apiResource('/pacotes', PacoteController::class);
Route::apiResource('/assinaturas', AssinaturaController::class);
Route::apiResource('/transacoes', TransacaoController::class);
Route::apiResource('/logs', LogController::class);
```

## 7Ô∏è‚É£ Gerar chave do Laravel e permiss√µes
```sh
php artisan key:generate
chown -R www-data:www-data /var/www/painel-iptv-backend
chmod -R 775 /var/www/painel-iptv-backend/storage /var/www/painel-iptv-backend/bootstrap/cache
```

Agora o **backend Laravel est√° pronto!** üöÄ
